<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Minimal Budget Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Satisfy&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}
body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: #ffffff;
  color: #111;
}
.page-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: fadeSlideDown 0.6s ease;
}
@keyframes fadeSlideDown {
  0% {
    opacity: 0;
    transform: translateY(-20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}
.fade-slide-in {
  animation: fadeSlideDown 0.5s ease;
}
header {
  background: none;
  color: #111;
  padding: 20px 10px 20px;
  flex-shrink: 0;
}
header h1 {
  text-align: center;
  font-size: 1.7rem;
  font-family: 'Poppins', cursive;
  margin-bottom: 15px;
}
.separator {
  width: 100%;
  height: 1px;
  background: #111;
  max-width: 500px;
  margin: 0 auto 15px;
}
main {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: center;
  max-width: 500px;
  margin: 5px auto 0;
  padding: 0 20px;
  gap: 18px;
}
h2 {
  font-size: 1.05rem;
  font-weight: 600;
  text-align: left;
  width: 100%;
  color: #222;
  margin-bottom: 4px;
}
form {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  width: 100%;
}
input,
button {
  padding: 12px;
  border: 1px solid #111;
  font-size: 0.9rem;
  flex: 1 1 48%;
  background: #fff;
  color: #111;
  outline: none;
  border-radius: 0;
  font-weight: 400;
  font-family: 'Poppins', sans-serif;
}
input:disabled {
  background: #f0f0f0;
  color: #aaa;
  cursor: not-allowed;
}
button {
  background: #111;
  color: #fff;
  cursor: pointer;
  flex: 1 1 100%;
  font-weight: 500;
  transition: background 0.3s;
}
button:hover:not(:disabled) {
  background: #333;
}
button:active:not(:disabled) {
  transform: scale(0.98);
}
.section {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.summary {
  display: flex;
  justify-content: center;
  text-align: center;
  gap: 16px;
  padding: 15px;
  border: 1px solid #111;
  font-size: 0.9rem;
  font-weight: 400;
}
.expense-box {
  border: 1px solid #111;
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 12px;
  gap: 10px;
}
.expenses-list {
  overflow-y: auto;
  max-height: 150px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.transaction {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  border: 1px solid #111;
  font-size: 0.9rem;
  font-weight: 400;
}
.amount-negative {
  color: #d11a1a;
}
.hidden {
  display: none;
}

/* RECEIPT STYLES */
.ticket {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  background: #fff;
  border: 2px dashed #111;
  padding: 20px;
  font-size: 0.9rem;
  font-weight: 400;
  color: #111;
  text-align: left;
  opacity: 0;
  z-index: 1000;
  animation: ticketIn 0.5s ease forwards;
  display: flex;
  flex-direction: column;
  align-items: center;
}
@keyframes ticketIn {
  0% {
    opacity: 0;
    transform: translate(-50%, 20px);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes ticketOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* MOBILE RESPONSIVENESS */
@media (max-width: 500px) {
  main {
    padding: 0 15px;
    margin: 0 auto;
  }
  .ticket {
    width: 90%;
  }
}
</style>
</head>
<body>

<div class="page-container">
<header>
  <h1>Spend with Intention</h1>
  <div class="separator"></div>
</header>

<main>
  <div class="section">
    <div class="group">
      <h2 id="section-title">How much is your budget today?</h2>
      <form id="budget-form">
        <input type="number" id="budget-input" placeholder="₱ Budget" required />
        <button type="submit">Start</button>
      </form>
      <div id="summary" class="summary hidden">
        <div>Budget: ₱<span id="budget">0</span></div>
        <div>Spent: ₱<span id="spent">0</span></div>
        <div>Remaining: ₱<span id="remaining">0</span></div>
      </div>
    </div>

    <div class="group">
      <h2>What did you spend on?</h2>
      <form id="expense-form">
        <input type="text" id="desc" placeholder="Description" disabled required />
        <input type="number" id="amount" placeholder="₱ Amount" disabled required />
        <button type="submit" id="add-expense-btn">Add Expense</button>
      </form>
      <div class="expense-box">
        <div class="expenses-list" id="expenses-list">
          <div style="color:#777; width:100%; text-align:center;">No expenses yet.</div>
        </div>
      </div>
      <button id="done-btn">Done (Reset)</button>
    </div>
  </div>
</main>
</div>

<script>
const budgetForm = document.getElementById("budget-form");
const expenseForm = document.getElementById("expense-form");
const budgetInput = document.getElementById("budget-input");
const summary = document.getElementById("summary");
const budgetDisplay = document.getElementById("budget");
const spentDisplay = document.getElementById("spent");
const remainingDisplay = document.getElementById("remaining");
const expensesList = document.getElementById("expenses-list");
const doneBtn = document.getElementById("done-btn");
const sectionTitle = document.getElementById("section-title");
const descInput = document.getElementById("desc");
const amountInput = document.getElementById("amount");
const section = document.querySelector(".section");

let budget = 0, spent = 0, expenses = [];
let receiptShown = false;

function updateSummary() {
  budgetDisplay.textContent = budget.toFixed(2);
  spentDisplay.textContent = spent.toFixed(2);
  remainingDisplay.textContent = (budget - spent).toFixed(2);
}

function refreshExpenses() {
  expensesList.innerHTML = "";
  if (expenses.length === 0) {
    expensesList.innerHTML = '<div style="color:#777; width:100%; text-align:center;">No expenses yet.</div>';
  } else {
    expenses.forEach(e => {
      const item = document.createElement("div");
      item.classList.add("transaction");
      item.innerHTML = `<div>${e.name}</div><div class="amount-negative">₱ -${e.amount.toFixed(2)}</div>`;
      expensesList.appendChild(item);
    });
  }
}

function triggerFadeSlideIn() {
  section.classList.add("fade-slide-in");
  setTimeout(() => section.classList.remove("fade-slide-in"), 500);
}

function showTicket() {
  if (receiptShown) return;
  receiptShown = true;
  const ticket = document.createElement("div");
  ticket.className = "ticket";
  ticket.innerHTML = `<h3 style="font-family: Satisfy; margin-bottom: 10px;">Receipt</h3>
    <div style="width: 100%;"><strong>Budget:</strong> ₱${budget.toFixed(2)}</div>
    <div style="width: 100%;"><strong>Spent:</strong> ₱${spent.toFixed(2)}</div>
    <div style="width: 100%; margin-bottom: 10px;"><strong>Remaining:</strong> ₱${(budget - spent).toFixed(2)}</div>
    <hr style="width: 100%; margin: 10px 0;">
    ${expenses.map(e => `<div style="width:100%; display:flex; justify-content:space-between;"><span>${e.name}</span><span>₱ -${e.amount.toFixed(2)}</span></div>`).join('')}
  `;
  document.body.appendChild(ticket);
  setTimeout(() => {
    ticket.style.animation = "ticketOut 1s forwards";
    setTimeout(() => ticket.remove(), 1000);
  }, 3500);
}

budgetForm.addEventListener("submit", function(e){
  e.preventDefault();
  budget = parseFloat(budgetInput.value);
  spent = 0;
  expenses = [];
  receiptShown = false;
  updateSummary();
  refreshExpenses();
  sectionTitle.textContent = "Your session summary";
  budgetForm.classList.add("hidden");
  summary.classList.remove("hidden");
  descInput.disabled = false;
  amountInput.disabled = false;
  budgetForm.reset();
  triggerFadeSlideIn();
});

expenseForm.addEventListener("submit", function(e){
  e.preventDefault();
  const name = descInput.value.trim();
  const amount = parseFloat(amountInput.value);
  if(!name || isNaN(amount)) return;
  expenses.push({name, amount});
  spent += amount;
  updateSummary();
  refreshExpenses();
  expenseForm.reset();
  receiptShown = false;
});

doneBtn.addEventListener("click", function(){
  if (!receiptShown) {
    showTicket();
    setTimeout(() => {
      budget = 0;
      spent = 0;
      expenses = [];
      updateSummary();
      refreshExpenses();
      sectionTitle.textContent = "How much is your budget today?";
      budgetForm.classList.remove("hidden");
      summary.classList.add("hidden");
      descInput.disabled = true;
      amountInput.disabled = true;
      receiptShown = false;
      triggerFadeSlideIn();
    }, 4500);
  }
});
</script>

</body>
</html>
